---
title: Session クラス
description:
category: php
createdAt: 2025-04-28
updatedAt: 2025-04-28
sortNumber: 204
path: "/documents/ghostphp/204_logger"
---

# Logger クラス

`Logger` クラスは、異なるログレベル（ERROR, WARN, INFO, DEBUG）でログメッセージをファイルに書き込む機能を提供します。ログファイルはプロジェクトの `logs` ディレクトリに保存されます。ログファイル名はデフォルトで日付ベースとなっており、必要に応じてカスタマイズすることができます。

## 機能概要

### 1. コンストラクタ
- **メソッド**: `__construct(?string $fileName = null)`
  - **説明**: `Logger` クラスのインスタンスを初期化します。`$fileName` 引数を渡すことで、カスタムのログファイル名を指定することができます。指定しない場合は、日付ベースのファイル名（例: `log_2025-04-27.log`）が使用されます。
  - **引数**: 
    - `$fileName`: カスタムログファイル名（オプション）。`log_YYYY-MM-DD.log` という形式で保存されます。

### 2. ログレベルのメソッド
- **エラーログ**: `error(string $msg)`
  - **説明**: ERROR レベルのログメッセージを記録します。
  - **引数**: `$msg`: ログに記録するメッセージ（文字列）。

- **警告ログ**: `warn(string $msg)`
  - **説明**: WARN レベルのログメッセージを記録します。
  - **引数**: `$msg`: ログに記録するメッセージ（文字列）。

- **情報ログ**: `info(string $msg)`
  - **説明**: INFO レベルのログメッセージを記録します。
  - **引数**: `$msg`: ログに記録するメッセージ（文字列）。

- **デバッグログ**: `debug(string $msg)`
  - **説明**: DEBUG レベルのログメッセージを記録します。
  - **引数**: `$msg`: ログに記録するメッセージ（文字列）。

### 3. ログファイルの設定
- **メソッド**: `setLogFile(string $fileName)`
  - **説明**: ログファイル名を動的に設定します。ファイル名はアルファベット、数字、アンダースコア（_）、ハイフン（-）、および `.log` 拡張子のみを許可します。
  - **引数**: `$fileName`: 設定するログファイル名（文字列）。

### 4. ログの書き込み
- **メソッド**: `out(string $level, string $msg)`
  - **説明**: 実際にログエントリをファイルに書き込みます。ログレベルとメッセージを指定し、タイムスタンプも付加してログファイルに保存します。
  - **引数**:
    - `$level`: ログレベル（ERROR, WARN, INFO, DEBUG）。
    - `$msg`: ログに記録するメッセージ（文字列）。

### 5. タイムスタンプの取得
- **メソッド**: `getTime()`
  - **説明**: 現在のタイムスタンプを `Y-m-d H:i:s.ms` 形式で取得します。ミリ秒まで含まれた精度で時間を記録できます。
  - **返り値**: 現在のタイムスタンプ（文字列）。

## 利用例

### エラーメッセージのログ記録

```php
$logger = new Logger();
$logger->error('This is an error message.');
